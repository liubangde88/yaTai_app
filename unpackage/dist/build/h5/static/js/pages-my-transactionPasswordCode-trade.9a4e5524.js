(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-transactionPasswordCode-trade"],{"1c07":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7039"),a("14d9");var s=a("547e"),n={data:function(){return{isSendEmail:!1,errorType:"message",email:"",rules:{code:{type:"string",required:!0,message:this.$t("message.code"),trigger:["blur","change"]}},data:{code:""},passwd:""}},onLoad:function(e){var t=this,a=this.$route.query;this.passwd=a.password;var n=this.vuex_user.id;(0,s.getDetail)({agentId:n}).then((function(e){if(0===e.code){var a={_register:1};a.mobile=e.agent.mobile,a.email=e.agent.mobile,t.email=e.agent.mobile,Object.getOwnPropertyNames(a).length,(0,s.sendEmail)(a).then((function(e){var a=t;0==e.code&&(t.isSendEmail=!0,uni.$u.toast(a.$t("message.successText")))}))}}))},methods:{submit:function(){var e=this,t=this;this.$refs.form.validate().then((function(a){var n={code:e.data.code,email:e.email};(0,s.checkCode)(n).then((function(a){if(0===a.code){var n={passwd:e.passwd,email:e.email,_register:1};console.log(n),(0,s.updatePasswd)(n).then((function(a){if(console.log(a),0!=a.code)return uni.$u.toast(t.$t("message.validateFail"));0===a.code&&(uni.showToast({title:t.$t("message.successText"),icon:"hourglass-half-fill"}),setTimeout((function(){e.$router.push({path:"/pages/my/my/index",query:e.data})}),2e3))}))}}))})).catch((function(e){uni.$u.toast(t.$t("message.validateFail"))}))}}};t.default=n},"5c3d":function(e,t,a){"use strict";a.r(t);var s=a("607a"),n=a("c551");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8d7a");var i=a("f0c5"),r=Object(i["a"])(n["default"],s["b"],s["c"],!1,null,"51b78dd4",null,!1,s["a"],void 0);t["default"]=r.exports},"607a":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s}));var s={uNavbar:a("d9e6").default,uForm:a("9884").default,uFormItem:a("aecd").default,uInput:a("d0c1").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"transaction-password-container"},[a("u-navbar",{attrs:{bgColor:"rgba(255,255,255)"},on:{leftClick:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"title"},[e._v(e._s(e.$t("message.verificationCode")))]),a("v-uni-view",{staticClass:"desc"},[1==e.isSendEmail?a("span",[e._v(e._s(e.$t("message.transactionPasswordCodeDesc")))]):e._e(),0==e.isSendEmail?a("span",[e._v(e._s(e.$t("message.transactionPasswordCodeSend")))]):e._e(),e._v(e._s(e.email))]),a("v-uni-view",{staticClass:"form bgWhite"},[a("u-form",{ref:"form",attrs:{model:e.data,rules:e.rules,errorType:e.errorType}},[a("u-form-item",{staticClass:"form-item",attrs:{prop:"code",borderBottom:!0}},[a("u-input",{attrs:{border:"none",clearable:!0,maxlength:6,placeholder:e.$t("message.transactionPasswordCodePlaceholder")},model:{value:e.data.code,callback:function(t){e.$set(e.data,"code",t)},expression:"data.code"}})],1)],1),a("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v(e._s(e.$t("message.transactionPasswordCodeBtn")))])],1)],1)},o=[]},"6f5c":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".transaction-password-container[data-v-51b78dd4]{padding-left:%?30?%;padding-right:%?30?%;.title{font-family:Open Sans;font-size:%?40?%;font-weight:600;margin-top:%?120?%}.desc{font-family:PingFang HK;font-size:%?24?%;color:#a1a0a0;margin-top:%?10?%}.form{padding:%?40?%;border-radius:%?16?%;margin-top:%?42?%;.form-item{margin-bottom:%?40?%}}.btn{background-color:#86784b;border-radius:%?16?%}}",""]),e.exports=t},"8d7a":function(e,t,a){"use strict";var s=a("f53c"),n=a.n(s);n.a},c551:function(e,t,a){"use strict";a.r(t);var s=a("1c07"),n=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(o);t["default"]=n.a},f53c:function(e,t,a){var s=a("6f5c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("4f06").default;n("f5d3f232",s,!0,{sourceMap:!1,shadowMode:!1})}}]);